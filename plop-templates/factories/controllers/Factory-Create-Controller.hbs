import { Controller } from '@/presentation/http/protocols';
import { Create{{name}}Controller } from '@/presentation/http/controllers/{{dashCase name}}';

import { makeCreate{{name}}InDatabaseUsecase } from '@/main/factories/services/{{dashCase name}}';
import { makeCreate{{name}}Validation } from '@/main/factories/validation/{{dashCase name}}';
import { makeLogControllerDecorator } from '@/main/factories/controllers';

export const makeCreate{{name}}Controller = (): Controller => {
  const create{{name}}Usecase = makeCreate{{name}}InDatabaseUsecase();

  const validation = makeCreate{{name}}Validation();

  const create{{name}}Controller = new Create{{name}}Controller(
    validation,
    create{{name}}Usecase
  );

  const create{{name}}ControllerWithLogDecorator =
    makeLogControllerDecorator(create{{name}}Controller);

  return create{{name}}ControllerWithLogDecorator;
};
